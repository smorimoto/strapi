"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[715],{4256:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var a=n(3117),r=(n(7294),n(3905));const i={title:"Templates",tags:["pack-up","generating","template"]},o=void 0,l={unversionedId:"docs/utils/pack-up/templates",id:"docs/utils/pack-up/templates",title:"Templates",description:"Templates are only used for the init api. You can either pass a path to the file containing your template (it's expected to be",source:"@site/docs/docs/05-utils/pack-up/03-templates.mdx",sourceDirName:"docs/05-utils/pack-up",slug:"/docs/utils/pack-up/templates",permalink:"/docs/utils/pack-up/templates",draft:!1,editUrl:"https://github.com/strapi/strapi/tree/main/docs/docs/docs/05-utils/pack-up/03-templates.mdx",tags:[{label:"pack-up",permalink:"/tags/pack-up"},{label:"generating",permalink:"/tags/generating"},{label:"template",permalink:"/tags/template"}],version:"current",sidebarPosition:3,frontMatter:{title:"Templates",tags:["pack-up","generating","template"]},sidebar:"docs",previous:{title:"Configuration",permalink:"/docs/utils/pack-up/config"}},p={},s=[{value:"Interfaces",id:"interfaces",level:2},{value:"Template",id:"template",level:3},{value:"Template Features &amp; Options",id:"template-features--options",level:3},{value:"Template file",id:"template-file",level:3}],c={toc:s};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Templates are only used for the ",(0,r.kt)("inlineCode",{parentName:"p"},"init")," api. You can either pass a path to the file containing your template (it's expected to be\na default export) if you're using the CLI. Or alternatively, if you're using the node functions then you can directly pass your template."),(0,r.kt)("p",null,"A template can either be an object (defined below) or a function returning said object. The function recieves an initiatialisation context\nto be utilised at the discretion of the template author."),(0,r.kt)("h2",{id:"interfaces"},"Interfaces"),(0,r.kt)("h3",{id:"template"},"Template"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"interface Template {\n  /**\n   * If you're not using a template in a CLI environment,\n   * it's not recommended to use prompts. Instead, you should\n   * just return all the files your template needs in from the\n   * `getFiles` function.\n   */\n  prompts?: Array<TemplateFeature | TemplateOption>;\n  /**\n   * A dictionary of the files that will be created in the\n   * new package. The key is the file name and the value is\n   * the file contents, we prettify the contents before writing\n   * using a default config if there's not one in the package.\n   */\n  getFiles: (answers?: Array<{ name: string; answer: string }>) => Promise<Array<TemplateFile>>;\n}\n\ninterface TemplateContext {\n  cwd: string;\n  logger: Logger;\n  packagePath: string;\n}\n\ntype TemplateResolver = (ctx: TemplateContext) => Promise<Template>;\n")),(0,r.kt)("h3",{id:"template-features--options"},"Template Features & Options"),(0,r.kt)("p",null,"Features & options are restricted just ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/terkelg/prompts"},"prompts"),". All features are boolean\nanswers using the ",(0,r.kt)("inlineCode",{parentName:"p"},"confirm")," type. Options have a lot more flexibility and can be used to capture information."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"interface TemplateFeature<T extends string = string>\n  extends Pick<prompts.PromptObject<T>, 'initial'> {\n  /**\n   * Name of the feature you want to add to your package.\n   * This must be identical to the name of the feature on npm.\n   */\n  name: string;\n  /**\n   * @default true\n   */\n  optional?: boolean;\n}\n\ninterface TemplateOption<T extends string = string>\n  extends Omit<prompts.PromptObject<T>, 'onState' | 'onRender' | 'stdout' | 'stdin' | 'name'> {\n  name: string;\n}\n")),(0,r.kt)("h3",{id:"template-file"},"Template file"),(0,r.kt)("p",null,"Files are just objects with a name and contents. It's advised to use a library like ",(0,r.kt)("inlineCode",{parentName:"p"},"outdent")," to handle indentation in\nyour file contents. Although the API will try to prettyify your files before writing them."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"interface TemplateFile {\n  name: string;\n  contents: string;\n}\n")))}u.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=s(n),f=r,d=m["".concat(p,".").concat(f)]||m[f]||u[f]||i;return n?a.createElement(d,o(o({ref:t},c),{},{components:n})):a.createElement(d,o({ref:t},c))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);